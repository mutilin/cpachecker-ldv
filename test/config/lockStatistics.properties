# ------------------------------------------------------------------
# This configuration file uses analysis to collects statistics 
# of locks.
# ------------------------------------------------------------------

analysis.useCBMC = true

# ARTCPA is needed for counterexample analysis
cpa = cpa.arg.ARGCPA

# FunctionPointerCPA provides handling of function pointers
ARGCPA.cpa = cpa.functionpointercreate.FunctionPointerCreateCPA

FunctionPointerCreateCPA.cpa = cpa.usageStatistics.UsageStatisticsCPA

UsageStatisticsCPA.cpa = cpa.composite.CompositeCPA

CompositeCPA.cpas = cpa.location.LocationCPA, cpa.callstack.CallstackCPA, cpa.lockStatistics.LockStatisticsCPA, cpa.conditions.global.GlobalConditionsCPA

# this automaton defines which locations are the error locations
#specification = config/specification/default.spc

# Set time limit to 15 minutes
cpa.conditions.global.time.wall = 15min

cpa.lockStatistics.lockfunctions = mutex_lock_nested, mutex_lock, mutex_trylock

cpa.lockStatistics.unlockfunctions = mutex_unlock

#output file
cpa.usagestatistics.output = output/race_results.txt

cpa.usagestatistics.fullstatistics = false

cpa.usagestatistics.process = Simple

# log level of console output
#log.consoleLevel = Level.INFO

