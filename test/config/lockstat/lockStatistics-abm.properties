# reverse postorder (a more restrictive topological ordering) is better than dfs if elements may be merged
analysis.traversal.order = bfs
analysis.traversal.useReversePostorder = true
analysis.traversal.useCallstack = true
analysis.functionPointerCalls = false
cpa.functionpointer.ignoreUnknownFunctionPointerCalls=false
precision.path = localsave
analysis.summaryEdges = true
analysis.reachedSet = USAGESTATISTICS

# analysis.useCBMC = true
analysis.algorithm.CEGAR = true

analysis.entryFunction = main

output.disable = false

cpa.callstack.skipRecursion = true
# cfa.useMultiEdges   = true

# parser.readLineDirectives = true
# parser.usePrepr
coverage.export = true
coverage.file = coverage.info

# parser.dialect = GNUC

# cpa.predicate.solver=SMTInterpol

cegar.refiner = cpa.usagestatistics.UsageStatisticsRefiner
cegar.refinementLoops = 10
cpa.usagestatistics.precisionReset = 10
# cegar.globalRefinement = true

# ARGCPA is necessary for refinement and has to be the top-level CPA
cpa = cpa.bam.BAMCPA
BAMCPA.cpa = cpa.arg.ARGCPA

ARGCPA.cpa = cpa.usagestatistics.UsageStatisticsCPA

UsageStatisticsCPA.cpa = cpa.composite.CompositeCPA

CompositeCPA.cpas = cpa.location.LocationCPA, cpa.callstack.CallstackCPA, cpa.lockstatistics.LockStatisticsCPA, cpa.predicate.BAMPredicateCPA, cpa.functionpointer.FunctionPointerCPA

cpa.arg.export = false
cpa.arg.errorPath.export = false

cpa.bam.handleRecursiveProcedures = false

cpa.predicate.bam.agressiveReduce = true

#include predicateAnalysis.properties

# cpa.explicit.initialPrecisionFile = initialExplicitPrecision_lock

# cpa.composite.precAdjust               = COMPONENT
# cegar.refiner                          = cpa.explicit.refiner.DelegatingExplicitRefiner
# this automaton defines which locations are the error locations
# specification = default.spc

cpa.bam.blockHeuristic = FunctionPartitioning
cpa.bam.gatherCacheMissStatistics = false
cpa.bam.aggressiveCaching = false

# cpa.predicate.blk.alwaysAtFunctions = true
# cpa.predicate.blk.alwaysAtLoops     = true

# cpa.predicate.abm.auxiliaryPredicateComputer = false

# Set time limit to 15 minutes
# cpa.conditions.global.time.wall = 15min

#include annotated_functions.properties

#include locks.properties

cpa.lockStatistics.lockreset = lockreset

#include usagestatistics.properties

# cpa.usagestatistics.fullstatistics = false

# cpa.usagestatistics.unsafeDetectorType = PAIR

# log.consoleLevel = ALL

